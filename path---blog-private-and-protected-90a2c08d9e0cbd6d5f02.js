webpackJsonp([0xa797c70163e7],{416:function(n,a){n.exports={data:{markdownRemark:{html:'<p>From <a href="https://javascript.reddit.com">javascript.reddit.com</a>: </p>\n<p>Posted by /u/ithacasnowman</p>\n<p><a href="https://www.reddit.com/r/javascript/comments/8t09nq/im_a_classical_oop_programmer_how_should_i_think/">I\'m a “classical” OOP programmer. How should I “think” in JavaScript?</a></p>\n<blockquote>\n<p>For > 15 years, I\'ve coded in C, C++ and Java. I want to understand the mental models I should adopt for JavaScript and how they\'re different from those other "classical" languages. I\'m not talking about specific concepts like prototypical vs classical inheritance, which I understand. Instead, I want to know what that means for me as an architect...</p>\n</blockquote>\n<blockquote>\n<p>How is information hiding implemented in ES6? There is no native support for private and protected properties with ES6 classes. Do I consider adding them? If not, how do I architect my programs without such a fundamental OOP feature?</p>\n</blockquote>\n<p>Private and protected properties are part of Typescript, so you may find it more comfortable to go straight to that. </p>\n<p>But I can answer your question with ES6/ES5. A lot of stuff enforced by C/C++/Java and other languages did make it into ES6 (like the class keyword) but ultimately, there were a lot of design decisions in Javascript to <em>not</em> require the safety of other languages.  </p>\n<p>That said, programmers have come up with conventions to help with this. For example, if we want to keep something a property, we don\'t set it as a property of an object.  We use closure to encapsulate it (often using currying).  Some programmers are in the habit of prefixing variables that we want to be "private".  </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">memoize</span> <span class="token operator">=</span> <span class="token punctuation">(</span>funcToMemoize<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> _hash <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> \n  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> argKey <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>_hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      _hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">funcToMemoize</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> _hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>\n<span class="token keyword">const</span> memoSquare <span class="token operator">=</span> <span class="token function">memoize</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">memoSquare</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// 81</span>\nmemoSquare<span class="token punctuation">.</span>_hash <span class="token comment">// undefined. </span></code></pre>\n      </div>\n<p>In the above function, we can\'t get access to _hash, but the hash exists. </p>\n<p>That said, if we <em>wanted</em> to write a method that allowed us to get access to the hash... </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">memoize</span> <span class="token operator">=</span> <span class="token punctuation">(</span>funcToMemoize<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> hash <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> \n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getHash</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> hash<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> argKey <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>_hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      _hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">funcToMemoize</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> _hash<span class="token punctuation">[</span>argKey<span class="token punctuation">]</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>\n<span class="token keyword">const</span> memoSquare <span class="token operator">=</span> <span class="token function">memoize</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> otherSquare <span class="token operator">=</span> <span class="token function">memoize</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">memoSquare</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// 81</span>\n<span class="token function">memoSquare</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>\nmemoSquare<span class="token punctuation">.</span>hash <span class="token comment">// undefined. </span>\nmemoSquare<span class="token punctuation">.</span><span class="token function">getHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {"2": 4, "9": 81}</span>\notherSquare<span class="token punctuation">.</span><span class="token function">getHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {}</span></code></pre>\n      </div>\n<p>So, how does this happen with classes?  Well, keep in mind that the "class" keyword in ES6 is just syntactic sugar for the pseudoclassical pattern.  So these three code snippets do pretty much the same thing: </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// class keyword</span>\n<span class="token keyword">class</span> <span class="token class-name">Dude</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello, I\'m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> kevin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dude</span><span class="token punctuation">(</span><span class="token string">"Kevin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin"</span></code></pre>\n      </div>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Pseudoclassical Pattern</span>\n<span class="token keyword">const</span> <span class="token function-variable function">Dude</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello, I\'m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> kevin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dude</span><span class="token punctuation">(</span><span class="token string">"Kevin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin"</span></code></pre>\n      </div>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Prototypal Pattern</span>\n<span class="token keyword">const</span> <span class="token function-variable function">Dude</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nDude<span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello, I\'m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> kevin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dude</span><span class="token punctuation">(</span><span class="token string">"Kevin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin"</span></code></pre>\n      </div>\n<p>Notice that the prototypal pattern (in many ways, the <em>preferred and canonical</em> javascript way of doing things) requires that the language <em>doesn\'t</em> support encapsulation, as you can assign a new method or a property to an object without problem. This does make it possible to overwrite properties - and if you\'re working with a multi-programming team, namespace collisions could happen.  That\'s why the underscore convention got instituted. </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// class keyword</span>\n<span class="token keyword">class</span> <span class="token class-name">Dude</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function-variable function">doBirthday</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> \n  <span class="token punctuation">}</span>\n  <span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello, I\'m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, and I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>_age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> kevin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dude</span><span class="token punctuation">(</span><span class="token string">"Kevin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">doBirthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">doBirthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin, and I am 3"</span>\nkevin<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">// does not throw an error. </span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin, and I am 3"</span>\nkevin<span class="token punctuation">.</span>_age <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">// JS will not prevent you from doing this, but by convention, you don\'t. </span>\nkevin<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// $> "Hello, I\'m Kevin, and I am 5"</span></code></pre>\n      </div>',frontmatter:{date:"22 June, 2018",path:"/blog/private-and-protected",title:"Encapsulation in Javascript",tags:["javascript","object-oriented programming"],featuredImage:{publicURL:"/static/code-b944ac4e1e834a9607b3bcac699786b2.jpg",childImageSharp:{sizes:{srcSet:"/static/code-b944ac4e1e834a9607b3bcac699786b2-7cc04.jpg 310w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-69042.jpg 620w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-4e8db.jpg 1240w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-7d763.jpg 1600w"}}}}}},pathContext:{}}}});
//# sourceMappingURL=path---blog-private-and-protected-90a2c08d9e0cbd6d5f02.js.map