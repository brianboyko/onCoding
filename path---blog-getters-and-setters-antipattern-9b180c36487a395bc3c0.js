webpackJsonp([0xf6eba88b15e1],{414:function(n,s){n.exports={data:{markdownRemark:{html:'<p>One of the things that wasn\'t covered at Hack Reactor (or if it was, only briefly) was that Javascript has "get" and "set" methods built into objects and classes. </p>\n<p>Of course, I don\'t blame Hack Reactor for not covering it, as it can get a little... complicated. </p>\n<p>If you\'re not familiar with it, here\'s an example from the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects">developer.mozilla.org</a> documentation: </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>\n  <span class="token keyword">get</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token keyword">set</span> <span class="token function">c</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>\no<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span></code></pre>\n      </div>\n<p>So you can see the problem with this. We\'ve used the assignment operator on o.c, and it changed the value of o.a, while o.c (which has no getter) doesn\'t exist. </p>\n<p>You can see exactly how this can result in some really, <em>really</em> horribly complicated code. </p>\n<p>The thing is - it\'s also used in some clever code.  Specifically, this is the key idea behind "observables". Used in MobX (for React) and in Vue, observables allow you to do things like trigger a page re-render whenever a variable gets assigned. </p>\n<p>Vue.js</p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">></span>\n  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app-5"</span><span class="token operator">></span>\n    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>\n    <span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token punctuation">:</span>click<span class="token operator">=</span><span class="token string">"reverseMessage"</span><span class="token operator">></span>Reverse Message<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>\n<span class="token operator">&lt;</span>script<span class="token operator">></span>\n  <span class="token keyword">var</span> app5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token punctuation">:</span> <span class="token string">\'#app-5\'</span><span class="token punctuation">,</span>\n    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      message<span class="token punctuation">:</span> <span class="token string">\'Hello Vue.js!\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      reverseMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// running this function triggers a re-render of the above // HTML. Vue takes the elements in "data" and applies a </span>\n        <span class="token comment">// setter on this.message that triggers a re-render. </span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>\n      </div>\n<p>Now <em>that said</em>, the "just change the variable and it re-renders" simplicity of Vue is one of the reasons that many people find it easier to learn and make useful sites with, as compared to React and similar frameworks. </p>\n<p>But in so doing, Vue and other observable frameworks - as all getters and setters that execute any code with side effects - <em>significally changes how programmers expect their code to behave.</em> </p>\n<p>That\'s why (and this is just my opinion) I believe using getters and setters - and even observables as a whole - is probably better avoided as an antipattern.  Instead, consider using method calls to accomplish the same effect. </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>\n  <span class="token function">computeB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token function">setAToHalf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">computeB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 8</span>\no<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span>\no<span class="token punctuation">.</span><span class="token function">setToAHalf</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25</span></code></pre>\n      </div>\n<p>This is especially important when you are working in a big team and have to import each other\'s libraries. Take the code. </p>\n<div class="gatsby-highlight" data-language="javascript">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> SomeClass <span class="token keyword">from</span> <span class="token string">\'./SomeClass\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nfoo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>Would you expect that line: "foo.name = \'bar\'" to do any other thing, or change any other value, other than assigning foo.name to bar?  Using an observable library means you have to keep track of which objects and methods are observables and which aren\'t. </p>\n<p>This breaks the principle of "least surprise."  That is - if you write your code, you should write it in a way that reduces the suprises in it. </p>\n<p>Instead, avoid the problem by reducing the assignment operator (=) to <em>only assign</em>. </p>',frontmatter:{date:"23 June, 2018",path:"/blog/getters-and-setters-antipattern",title:"Getters and Setters: A Javascript antipattern?",tags:["react","vue","observables","getters and setters","es6","typescript","javascript"],featuredImage:{publicURL:"/static/code-b944ac4e1e834a9607b3bcac699786b2.jpg",childImageSharp:{sizes:{srcSet:"/static/code-b944ac4e1e834a9607b3bcac699786b2-7cc04.jpg 310w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-69042.jpg 620w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-4e8db.jpg 1240w,\n/static/code-b944ac4e1e834a9607b3bcac699786b2-7d763.jpg 1600w"}}}}}},pathContext:{}}}});
//# sourceMappingURL=path---blog-getters-and-setters-antipattern-9b180c36487a395bc3c0.js.map