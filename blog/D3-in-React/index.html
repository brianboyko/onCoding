<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/onCoding/component---src-layouts-index-js-0e6e7990ee8dd50dc3f2.js" as="script"/><link rel="preload" href="/onCoding/component---src-templates-blog-template-js-dfeee8041bf721c2f5ea.js" as="script"/><link rel="preload" href="/onCoding/path---blog-d-3-in-react-53c5222d557bc67a1a70.js" as="script"/><link rel="preload" href="/onCoding/app-c4f76d6e4cae8f6a822c.js" as="script"/><link rel="preload" href="/onCoding/commons-8dcba3f9452ce054e0e3.js" as="script"/><title data-react-helmet="true">Brian Boyko (On Coding)</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Fjalla+One|Inconsolata|Sorts+Mill+Goudy" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Fjalla+One|Inconsolata|Sorts+Mill+Goudy);.header__container{background-color:#222;margin-bottom:1.45rem}.header__title{margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem}.header__title__text{color:#fff;text-decoration:none}html{font-family:Sorts Mill Gowdy,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Inconsolata,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Sorts Mill Gowdy,sans-serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:0}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:Fjalla One,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:Fjalla One,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:Fjalla One,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Inconsolata,monospace;padding:0;padding-top:.2em;padding-bottom:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.chip{background-color:#4a6fa5;padding:5px 10px;margin:10px 5px;color:#fff;width:auto;border-radius:10px;font-family:Inconsolata,monospace}.chip__container{margin-left:-5px}.blog-post-content{font-family:Sorts Mill Gowdy,serif}.blog-post-list{font-family:Sorts Mill Gowdy}.bio{float:left;width:300px;margin:0 50px 20px 0;padding:20px;background-color:#8cf;font-family:Sorts Mill Gowdy;font-size:16px}.bio img{width:100px;float:left;padding:3px;border:1px solid #888;margin:0 20px 20px 0}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1358068090"><!-- react-empty: 2 --><div class="header__container" data-reactid="3"><div class="header__title" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a class="header__title__text" href="/onCoding/" data-reactid="6">Brian Boyko (On Coding)</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div class="blog-post__container" data-reactid="8"><div class="blog-post" data-reactid="9"><div style="background-image:url(/onCoding/static/defaultImage-bf9d9895bd7ec25009144b0f166399c4.jpg);background-size:cover;height:auto;margin-bottom:40px;" data-reactid="10"><div style="color:white;padding:150px 20px 20px 20px;background:rgba(0, 0, 0, 0.3);" data-reactid="11"><h1 data-reactid="12">D3 in React</h1><h2 data-reactid="13">03 February, 2017</h2><span class="chip__container" data-reactid="14"><span class="chip" data-reactid="15"><span data-reactid="16">d3</span></span><span class="chip" data-reactid="17"><span data-reactid="18">react</span></span></span></div></div><div class="blog-post-content" data-reactid="19"><p>This is something that might trip up people coming to React from jQuery or Angular: sometimes you just need to mount something on the DOM. </p>
<p>For me, this happens most often when I work with D3.  </p>
<p>D3, for those of you unfamiliar, is a wonderful tool for data visualization.  It essentially uses Javascript to draw SVG graphics; graphics that can then be made interactive or animate with changes in data.  It's probably the #1 tool in the Data Journalism arsenal.  </p>
<p>Which is great, except the way that D3 was designed - it was designed to be loaded in the &#x3C;script>&#x3C;/script> tags in an HTML page. And that's not how most people work with javascript - not even on the front end.  With bundlers like browserify and webpack, it makes sense to code the D3 javascript with the rest of your files. </p>
<p>This is even further complicated by the fact that D3 looks for a tag you specify as a way to mount the graph - that is, a tag in the DOM of the page.  React, as you may know, uses a virtual DOM. </p>
<p>So, how do you use D3 graphs in a React project? How do you allow D3 to have access to data about the state of the application or component? </p>
<p>Here's one solution.  </p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ./app/components/Graph.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>componentDidMount <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>componentDidMount<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">"graph"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Graph<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  definition<span class="token punctuation">:</span> React<span class="token punctuation">.</span>PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Graph<span class="token punctuation">;</span></code></pre>
      </div>
<p>So, that's our graph component. Essentially, just a DIV tag, nothing fancy. But once the component mounts, we want to tell D3 to draw the graph in this component.  </p>
<p>To do that, we pass in "this.refs.graph" - in other words, that DIV tag we just created in the DOM, to a function we passed in as a prop to "definition." Like so. </p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ./app/components/Main.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Graph <span class="token keyword">from</span> <span class="token string">'./Graph'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> barchart <span class="token keyword">from</span> <span class="token string">'../charts/barchart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> linechart <span class="token keyword">from</span> <span class="token string">'../charts/linechart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> scatterplot <span class="token keyword">from</span> <span class="token string">'../charts/scatterplot'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Main</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Graph definition<span class="token operator">=</span><span class="token punctuation">{</span>barchart<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Graph definition<span class="token operator">=</span><span class="token punctuation">{</span>linechart<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Graph definition<span class="token operator">=</span><span class="token punctuation">{</span>scatterplot<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Main<span class="token punctuation">;</span></code></pre>
      </div>
<p>"barchart", "linechart", and "scatterplot" are all functions which contain the D3 code necessary to render the graph in full.  By passing them in as the "definition" prop, we know that the element will launch that function the moment it mounts.  </p>
<p>And we describe that function like so: </p>
<p>(We'll just do the one barchart, but you get the idea...)</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ../app/charts/barchart.js</span>
<span class="token comment">/* For some reason, D3 doesn't work with "import" and must use "require()" */</span>

<span class="token keyword">const</span> d3 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'d3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">colorPicker</span> <span class="token operator">=</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>v <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"#666666"</span> <span class="token punctuation">:</span> <span class="token string">"#FF0033"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">bargraph</span> <span class="token operator">=</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> padding <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> bar <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"width"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span> h<span class="token punctuation">)</span>

  bar<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">"rect"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"rect"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token punctuation">(</span>w<span class="token operator">/</span>dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>h <span class="token operator">-</span> <span class="token punctuation">(</span>data <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>w <span class="token operator">/</span> dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">-</span> padding<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>data <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">colorPicker</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>

  bar<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"text-anchor"</span><span class="token punctuation">,</span> <span class="token string">"middle"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token punctuation">(</span>w <span class="token operator">/</span> dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>w <span class="token operator">/</span> dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">-</span> padding<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>h <span class="token operator">-</span> <span class="token punctuation">(</span>data <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">"white"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"font-family"</span><span class="token punctuation">,</span> <span class="token string">"Helvetica, Arial, sans-serif"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"font-size"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> bargraph</code></pre>
      </div>
<p>The end result:</p>
<p><img src="http://i.imgur.com/NOgJnCE.png" alt="Graphic Charts"></p></div></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-c4f76d6e4cae8f6a822c.js","122212659448958":"component---src-templates-blog-template-js-dfeee8041bf721c2f5ea.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-05222a304816a819be01.js","218538773642512":"component---src-pages-page-2-js-1d4f0f19c1c44398ab65.js","60335399758886":"path----a80995809b8403e73bc5.js","168224806347839":"path---blog-typescript-i-get-it-393f86b95f5fbbf16dba.js","271492005434849":"path---blog-getters-and-setters-antipattern-18b1fe5db119865f09f1.js","184270320657383":"path---blog-private-and-protected-f465c1e73a55aa84c0d5.js","163844919532138":"path---blog-react-before-vue-7d84d820f549bab823e8.js","236448225686559":"path---blog-typescript-i-dont-get-it-f2a2e94ba1fb67c5624d.js","262036473486485":"path---blog-css-in-js-seperate-concerns-4d61a97b495d9014ea41.js","115491676190894":"path---blog-stupid-redux-tricks-6a85f059e0cdba2cd874.js","258654615034557":"path---blog-react-is-just-a-view-9894d9dd8342c7528124.js","49926254253336":"path---blog-currying-thinking-with-portals-fafa7d36257c92497632.js","41763247558397":"path---blog-d-3-in-react-53c5222d557bc67a1a70.js","220485664280490":"path---blog-c-live-dangerously-303ff7241a42df80ea0c.js","92893447782357":"path---blog-coding-on-paper-ed89352d00fe5fc68114.js","31428463216379":"path---blog-the-hip-ae7896d9acf4cd9e06e7.js","21394539151705":"path---blog-interestinglinks-1-39fc1daba0812b9e5a47.js","227515882628393":"path---blog-video-hack-reactor-1-1eaa58564ea41c872c83.js","280364320100666":"path---blog-cool-tools-e7f357ba59a5a24e19ad.js","261444995959908":"path---blog-random-redux-thoughts-b093ef55d6a6a9a9f671.js","16873448567208":"path---blog-redux-mobx-de8eebec133ae7f31479.js","69855552298772":"path---blog-the-other-side-6217a2f560777d96b2d9.js","144584405630298":"path---blog-git-and-subversion-a31508d88818ad1c455d.js","252476015291409":"path---blog-working-with-dynamic-type-3757cff52b99c84ecc1a.js","121292126702233":"path---blog-why-redux-a4fd03760e23debd5366.js","157254306246868":"path---blog-doing-it-right-vs-doing-it-fast-07f456f10bb0ebfbfc9c.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-63250777b5c4e2537ece.js","135728916539164":"path---page-2-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-0e6e7990ee8dd50dc3f2.js"}/*]]>*/</script><script>/*<![CDATA[*/["/onCoding/commons-8dcba3f9452ce054e0e3.js","/onCoding/app-c4f76d6e4cae8f6a822c.js","/onCoding/path---blog-d-3-in-react-53c5222d557bc67a1a70.js","/onCoding/component---src-templates-blog-template-js-dfeee8041bf721c2f5ea.js","/onCoding/component---src-layouts-index-js-0e6e7990ee8dd50dc3f2.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>